<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>ruote 2.1 released &laquo;  processi</title>

<link rel="stylesheet" href="http://s1.wp.com/wp-content/themes/pub/journalist/style.css?m=1340754426g" type="text/css" media="screen" />
<!--[if IE 6]>
<link rel="stylesheet" href="http://s1.wp.com/wp-content/themes/pub/journalist/ie6.css?m=1270837707g" type="text/css" media="screen" />
<![endif]-->
<link rel="pingback" href="http://jmettraux.wordpress.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="processi &raquo; Feed" href="http://jmettraux.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="processi &raquo; Comments Feed" href="http://jmettraux.wordpress.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="processi &raquo; ruote 2.1&nbsp;released Comments Feed" href="http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<link rel='stylesheet' id='all-css-0' href='http://s0.wp.com/_static/??/wp-content/blog-plugins/loggedout-follow/widget.css,/wp-content/mu-plugins/infinity/themes/pub/journalist.css,/wp-content/mu-plugins/post-flair/style.css,/wp-content/themes/h4/global.css,/wp-content/mu-plugins/widgets/css/widget-grid-and-list.css?m=1343303756j' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-0' href='http://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1335386953g' type='text/css' media='print' />
<script type='text/javascript'>
/* <![CDATA[ */
var LoggedOutFollow = {"invalid_email":"Your subscription did not succeed, please try again with a valid email address."};
/* ]]> */
</script>
<script type='text/javascript' src='http://s0.wp.com/_static/??/wp-includes/js/jquery/jquery.js,/wp-content/blog-plugins/loggedout-follow/widget.js,/wp-includes/js/comment-reply.js,/wp-content/mu-plugins/widgets/js/widget-bump-view.js?m=1342269540j'></script>
<link rel='stylesheet' id='all-css-0' href='http://s0.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1341918462g' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='http://s0.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1307172283g&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://jmettraux.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://jmettraux.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='rufus-tokyo&nbsp;1.0.4' href='http://jmettraux.wordpress.com/2009/12/25/rufus-tokyo-1-0-4/' />
<link rel='next' title='it&#8217;s barley a task&nbsp;manager' href='http://jmettraux.wordpress.com/2010/01/29/barley/' />
<meta name="generator" content="WordPress.com" />
<link rel='canonical' href='http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/' />
<link rel='shortlink' href='http://wp.me/pvqh-nf' />
<link rel="alternate" type="application/json+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=json&amp;url=http%3A%2F%2Fjmettraux.wordpress.com%2F2009%2F12%2F31%2Fruote-2-1-released%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=xml&amp;url=http%3A%2F%2Fjmettraux.wordpress.com%2F2009%2F12%2F31%2Fruote-2-1-released%2F&amp;for=wpcom-auto-discovery" /><meta property="og:type" content="article" />
<meta property="og:title" content="ruote 2.1&nbsp;released" />
<meta property="og:url" content="http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/" />
<meta property="og:description" content="Just released ruote 2.1.1. That requires a long, boring, explanatory blog post, especially since I was promising a ruote 2.0.0 release and now I&#8217;m jumping to 2.1.1. My prose isn&#8217;t that ..." />
<meta property="og:site_name" content="processi" />
<meta property="og:image" content="http://jmettraux.files.wordpress.com/2009/12/taxis.jpg?w=200" />
<meta name="twitter:image" content="http://jmettraux.files.wordpress.com/2009/12/taxis.jpg" />
<meta name="twitter:card" content="photo" />
<meta property="fb:app_id" content="249643311490" />
<link rel="shortcut icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311976022g" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="http://s2.wp.com/i/favicon.ico?m=1311976022g" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="http://s0.wp.com/i/webclip.png?m=1311618091g" />
<link rel='openid.server' href='http://jmettraux.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://jmettraux.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://jmettraux.wordpress.com/osd.xml" title="processi" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />
<style type="text/css">.recentcomments a{display:inline !important;padding: 0 !important;margin: 0 !important;}</style>
<meta name="application-name" content="processi" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="about processes and engines" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://jmettraux.wordpress.com/feed/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" />
	<link rel="stylesheet" type="text/css" href="http://s0.wp.com/?custom-css=1&#038;csblog=vqh&#038;cscache=6&#038;csrev=15" />
</head>

<body class="single single-post postid-1441 single-format-standard typekit-enabled highlander-enabled highlander-light">
<div id="container" class="group">

<h1><a href="http://jmettraux.wordpress.com/">processi</a></h1>
<div id="bubble"><p>about processes and engines</p></div> <!-- erase this line if you want to turn the bubble off -->

<div id="content" class="group">

<h2 id="post-1441">ruote 2.1&nbsp;released</h2>
	<p class="comments"><a href="http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/#comments">with 5 comments</a></p>

<div class="main">
	<p><img src="http://jmettraux.files.wordpress.com/2009/12/taxis.jpg?w=300&h=235" alt="" title="taxis" width="300" height="235" class="alignleft size-medium wp-image-1462" style="border:0;" />Just released <a href="http://gemcutter.org/gems/ruote">ruote 2.1.1</a>. That requires a long, boring, explanatory blog post, especially since I was promising a ruote 2.0.0 release and now I&#8217;m jumping to 2.1.1.</p>
<p>My prose isn&#8217;t that great, the transitions from one paragraph to the next are often poor. Let&#8217;s try anyway.</p>
<p><a href="http://ruote.rubyforge.org">Ruote</a> is an open source ruby workflow engine. Workflow as in &#8220;business process&#8221;. Sorry, no photo workflow or beats per minute.</p>
<p><strong>0.9, 2.0, 2.1</strong></p>
<p>In May 2009, I had the feeling that ruote 0.9 was a bit swollen and very baroque in some aspects, some early design decisions had forced me to do some juggling and it felt painful. At that point, I was working with other languages than Ruby and I had written the beginning of a ruote clone in Lua.</p>
<p>Fresh ideas are tempting, after a while I got back to Ruby and started a ruote 2.0 rewrite.</p>
<p>I was fortunate enough to benefit from the feedback of a startup company that pushed ruote in a terrain that it was not meant to travel. Whereas I built ruote and the systems that came before for small organizations and trusted integrators to divide the work among multiple engines, these people started stuffing as much possible work into one engine, with extra wide concurrent steps.</p>
<p>Those experiments and deployments brought back invaluable learnings, matured the 2.0 line very quickly, but, in October, I was seriously tempted to venture into a second rewriting.</p>
<p>Ruote 2.0 was a complete rewrite, ruote 2.1 is only a rewrite of the core. The test suite is mostly the same and working from the 2.0 test suite allowed me to build a 2.1 very quickly.</p>
<p><strong>things learnt</strong></p>
<p>So what triggered the 2.1 rewrite ?</p>
<p>At first, a feeling of unease with the way certain things were implemented in 2.0. Some of them were inherited from the previous ruote 0.9, while others came from the rewrite, in both cases, I made bad decisions.</p>
<p>Second, those load reports. The 2.0 workqueue is only a refinement of the 0.9 one. The workqueue is where all the tasks for the expressions that make up the process instances are gathered. It&#8217;s a transient workqueue, processed very quickly, internal to the engine.</p>
<p>Ruote, being a workflow engine, is meant to coordinate work among participants. Handing work to a participant occurs when the process execution hits a &#8216;participant expression&#8217;. This usually implies some IO operations since the &#8216;real&#8217; participant is something like a worklist (a workitem table in some DB), a process listening somewhere else and reachable via a message queue (XMPP, AMQP, Stomp, &#8230;).</p>
<p>As IO operations depend on things outside of the engine, the dispatch operation was usually done in a new thread, so that, meanwhile, the engine&#8217;s workqueue could go on with its work (and the other process instances).</p>
<p>When farming out work to &#8216;real&#8217; participants with wide concurrency, as the engine is spawning a thread for each dispatch, it gets crowded. The engine got vulnerable at this point. Right in the middle of dispatching, with still lots of tasks in the transient workqueue, the best time for things to go wrong, the engine to crash, and processes to stall.</p>
<p>Third ? Is there a third ? Ah yes, I started playing with <a href="http://couchdb.apache.org/">CouchDB</a> (Thanks <a href="http://github.com/kennethkalmer">Kenneth</a>), and many of the ideas in it are seducing and inspiring.</p>
<p><strong>rubies</strong></p>
<p>My passion for workflow engines comes from my [naive] hopes of reducing human labour, reducing total work by reducing/removing the coordination chores, the friction. Tasks left should be automated or left to humans. Left to humans&#8230; the bottleneck is in the human participants&#8230; Then there is this half-conviction that a workflow engine doesn&#8217;t need to be that fast, since most of the time, it sits waiting for the human-powered services to reply (or to time out).</p>
<p>Also I had settled on Ruby, a beautiful language, with not so fast interpreters (though this is changing, on many fronts, with so many people liking Ruby and giving lots of their times to make it better). The value of a workflow engine lies at its edge, where coordination meets execution, in the participants. That&#8217;s where Ruby shines (once more), since it makes it easy to write custom participants very quickly and to leverage all the crazy gems out there.</p>
<p>(I say Ruby shines once more, because I think it shines as well as the implementation language for the engine itself. It feels like the boundary between pseudo-code and code vanished)</p>
<p>Slow people, slow me, slow rubies.</p>
<p><strong>storage and workers</strong></p>
<p>I mentioned a few lines before CouchDB, that database made &#8220;out of the web&#8221;. Writing things to the disk is a necessity for a workflow engine. It&#8217;s an interpreter, but its processes are meant to last (longer than the uptime of a CPU).</p>
<p>One of CouchDB strengths comes from its <a href="http://books.couchdb.org/relax/intro/eventual-consistency">eventual consistency</a> and it made me wonder if, for ruote, it shouldn&#8217;t be worth sacrificing a bit of short-term performance for medium-term scalability / robustness.</p>
<p>A frequent complaint about Ruby is its global interpreter lock and its green threads, making it not so sexy in a 2+ core world. Threads are easy to play with from Ruby, but they&#8217;re quite expensive (some patches address that) and if you want to get past of the global lock, there seems to be only JRuby now.</p>
<p><img src="http://jmettraux.files.wordpress.com/2009/12/storage_workers.png?w=700" alt="" title="storage_workers"   class="alignleft size-full wp-image-1445" style="border:0;" />Workqueue, queue ? Worker. Why not multiple workers ? One [Ruby] process per worker, that would be ideal ! Let them share a storage for Expressions, Errors, Schedules, Configuration and&#8230; Messages.</p>
<p>Ruote 2.1 has a persisted workqueue. For the items placed in the queue, I use the term &#8220;message&#8221;, it covers &#8220;tasks&#8221; (sent for execution by expressions) and &#8220;events&#8221; (intra-engine notifications).</p>
<p>An interesting consequence : a persisted workqueue can be shared by multiple workers, workers not in the same Ruby process.</p>
<p>A message ordering the launch of a ruote process looks like :</p>
<p><pre class="brush: jscript;">
  {&quot;type&quot;: &quot;msgs&quot;,
   &quot;_id&quot;: &quot;1984-2151883888-1261900864.59903&quot;,
   &quot;_rev&quot;: 0,
   &quot;action&quot;: &quot;launch&quot;,
   &quot;wfid&quot;: &quot;20091227-fujemepo&quot;,
   &quot;tree&quot;:
     [&quot;define&quot;, {&quot;name&quot;: &quot;test&quot;}, [
       [&quot;sequence&quot;, {}, [
         [&quot;participant&quot;, {&quot;ref&quot;: &quot;alice&quot;}, []],
         [&quot;participant&quot;, {&quot;ref&quot;: &quot;bob&quot;}, []]]]]],
   &quot;workitem&quot;: {&quot;fields&quot;: {}},
   &quot;variables&quot;: {},
   &quot;put_at&quot;: &quot;2009/12/27 08:01:04.599054 UTC&quot;}
</pre></p>
<p>Note the process definition tree passed in to the &#8216;tree&#8217; part of the message, the empty workitem, the freshly minted process instance id in &#8216;wfid&#8217;, and yes, this is JSON. The process, named &#8216;test&#8217; is simply passing work from alice to bob (in a sequence).</p>
<p>What about the worker that has to handle this message ? It would like :</p>
<p><pre class="brush: ruby;">
  require 'ruote'
  require 'ruote/storage/fs_storage'

  storage = Ruote::FsStorage.new('ruote_work')
  worker = Ruote::Worker.new(storage)

  worker.run
    # current thread is now running worker
</pre></p>
<p>Whereas the 2.0 workqueue was transient, 2.1 has an external workqueue exploitable by 1+ workers. Simply set the workers to share the same storage. 1+ workers collaborating for the execution of business process instances.</p>
<p>Apart from tasks that need to be handled ASAP, some tasks are scheduled for later handling. A workflow engine thus needs some scheduling capabilities, there are activity timeouts, deliberate sleep period, recurring tasks&#8230; The 0.9 and 2.0 engines were using <a href="http://github.com/jmettraux/rufus-scheduler">rufus-scheduler</a> for this. The scheduler was living in its own thread. The 2.1 worker integrates the scheduler in the same thread that handles the messages.</p>
<p>(Since I wrote rufus-scheduler (with the help of many many people), it was easy for me to write/integrate a scheduler specifically for/in ruote)</p>
<p>A storage is meant as a pivot between workers, containing all the run data of an engine, &#8216;engine&#8217; as a system (a couple storage + worker at its smallest). Workers collaborate to get things done, each task (message) is handled by only one worker and expression implementations are collision resilient.</p>
<p>The result is a system where each expression is an actor. When a message comes, the target expression is re-hydrated from the storage by the worker and is handed the message. The expression emits further messages and is then de-hydrated or discarded.</p>
<p>This the <a href="http://github.com/jmettraux/ruote/blob/ruote2.1/lib/ruote/worker.rb">code of the worker</a> is rather small, there&#8217;s nothing fancy there. </p>
<p>There will be some daemon-packaging for the worker, thanks to <a href="http://github.com/kennethkalmer/daemon-kit">daemon-kit</a>.</p>
<p><strong>storage, workers and engine</strong></p>
<p><img src="http://jmettraux.files.wordpress.com/2009/12/engine_or_worker.png?w=700" alt="" title="engine_or_worker"   class="alignleft size-full wp-image-1448" style="border:0;" />We have a storage and workers, but what about the engine itself ? Is there still a need for an Engine class as an entry point ?</p>
<p>I think that yes, if only for making 2.1 familiar to people used to Ruote pre-2.1. At some point, I wanted to rename the Engine class of 0.9 / 2.0 as &#8216;Dashboard&#8217;, and forcing the engine term to designate the storage + workers + dashboards system. But well, let&#8217;s stick with &#8216;Engine&#8217;.</p>
<p>Throughout the versions the engine class shrinked. There is now no execution power in it, just the methods needed to start work, cancel work and query about work.</p>
<p>Here is an engine, directly tapping a storage :</p>
<p><pre class="brush: ruby;">
  require 'ruote'
  require 'ruote/storage/fs_storage'

  storage = Ruote::FsStorage.new('ruote_work')
  engine = Ruote::Engine.new(storage)
  
  puts &quot;currently running process instances :&quot;
  engine.processes.each do |ps|
    puts &quot;- #{ps.wfid}&quot;
  end
</pre></p>
<p>No worker here, it&#8217;s elsewhere. That may prove useful when wiring the engine into, say, a web application. The workers may be working in dedicated processes while the web application is given the commands, by instantiating and using an Engine.</p>
<p>Launching a process looks like :</p>
<p><pre class="brush: ruby;">
  pdef = Ruote.process_definition :name =&amp;gt; 'test' do
    concurrence do
      alpha
      bravo
    end
  end

  p pdef
    # [&quot;define&quot;, {}, [
    #   [&quot;concurrence&quot;, {}, [
    #     [&quot;alpha&quot;, {}, []],
    #     [&quot;bravo&quot;, {}, []]]]]]

  wfid = engine.launch(pdef)
</pre></p>
<p>The execution will be done by the workers wired to the storage, somewhere else.</p>
<p>It&#8217;s OK to wrap a worker within an engine :</p>
<p><pre class="brush: ruby;">
  require 'ruote'
  require 'ruote/storage/fs_storage'

  storage = Ruote::FsStorage.new('ruote_work')
  worker = Ruote::Worker.new(storage)
  engine = Ruote::Engine.new(worker)
    # the engine start the worker in its own thread
  
  puts &quot;currently running process instances :&quot;
  engine.processes.each do |ps|
    puts &quot;- #{ps.wfid}&quot;
  end
</pre></p>
<p><img src="http://jmettraux.files.wordpress.com/2009/12/s_w_e.png?w=700" alt="" title="engine(worker(storage))"   class="alignleft size-full wp-image-1450" style="border:0;" />This is the pattern for a traditional, one-worker ruote engine. With the exception that it&#8217;s OK to add further workers, later.</p>
<p>In fact, as long as there is one worker and it can reach the storage, the process instances will resume.</p>
<p><strong>storage implementations</strong></p>
<p>There are currently 3 storage implementations.</p>
<p>The first one is memory-only, transient. It&#8217;s meant for testing or for temporary workflow engines.</p>
<p>The second one is file based. It&#8217;s using rufus-cloche. All the workflow information is stored in a three level JSON file hierarchy. Workers on the same system can easily share the same storage. It uses file locks to prevent overlap.</p>
<p>The third one is Apache CouchDB based, it&#8217;s quite slow, but we&#8217;re hoping that optimizations on the client (worker) side like using em-http-request will make it faster. Speed is decent anyway and, on the plus side, you get an engine that spans multiple host and futon as a low-level tool for tinkering with the engine data.</p>
<p>Those three initial storage implementations are quite naive. Future, mixed implemenation storages are possible. Why not a storage where CouchDB is used for expression storing while messages are dealt with RabbitMQ ? (Note the doubly underlying Erlang here)</p>
<p><strong>dispatch threads</strong></p>
<p>As mentioned previously, the default ruote implementation, when it comes to dispatching workitems to participants, will spawn a new thread each time.</p>
<p>People complained about that, and asked me about putting an upper limit to the number of such threads. I haven&#8217;t put that limit, but I made some provisions for an implementation of it.</p>
<p>There is in ruote 2.1 a dedicated service for the dispatching, it&#8217;s called <a href="http://github.com/jmettraux/ruote/blob/ruote2.1/lib/ruote/part/dispatch_pool.rb">dispatch_pool</a>. For now it only understands new thread / no new thread and has no upper limit. Integrators can now simply provide their own implementation of that service.</p>
<p>Note that already since 0.9, a participant implementation is consulted at dispatch time. If it replies to the method do_not_thread and answers &#8216;true&#8217;, the dispatching will occur in the work thread and not in a new thread.</p>
<p><strong>2.1 participants</strong></p>
<p>Speaking of participants, there is a catch with ruote 2.1. Participants are now divided into two categories. I could say stateless versus stateful, but that would bring confusion with state machines or whatever. Perhaps, something like &#8220;by class&#8221; vs &#8220;by instance&#8221; is better. By class participants are instantiated at each dispatch and are thus manageable by any worker, while by instance participants are already instantiated and are thus only manageable via the engine (the Engine instance where they were registered).</p>
<p>BlockParticipants fall into the by instance category.</p>
<p><pre class="brush: ruby;">
  engine.register_participant 'total' do |workitem|
    t = workitem.fields['articles'].inject(0) do |art|
      t += art['price'] * art['count']
    end
    workitem.fields['total'] = t
  end
</pre></p>
<p>will thus only be handled by the worker associated with the engine.</p>
<p>A by class participant is registered via code like :</p>
<p><pre class="brush: ruby;">
  engine.register_participant(
    'alpha', Ruote::Amqp::AmqpParticipant, :queue =&amp;gt; 'ruote')
</pre></p>
<p>Whatever worker gets the task of delivering a workitem to participant alpha will be able to do it.</p>
<p><strong>from listeners to receivers</strong></p>
<p><img src="http://jmettraux.files.wordpress.com/2009/12/receiver.png?w=700" alt="" title="receiver"   class="alignleft size-full wp-image-1470" style="border:0;" />Ruote has always had the distincition between participants that replied by themselves to the engine (like BlockParticipant) and other participants which only focus on how to deliver the workitem to the real (remote) participant.</p>
<p>For those participants, the work is over when the workitem has been successfully dispatched to the &#8216;real&#8217; participant. The reply channel is not handled by those participants but by what used to be called &#8216;listeners&#8217;.  For example, the AmqpParticipant had to be paired with an AmqpListener.</p>
<p>As on the mailing list and in the IRC (#ruote) channel, I saw lots of confusion between listeners and the <a href="http://ruote.rubyforge.org/exp/listen.html">listen expression</a>. That made me decide to rename listenerers as &#8216;receivers&#8217;.</p>
<p>A receiver could also get <a href="http://githbub.com/kennethkalmer/daemon-kit">packaged</a> as a daemon.</p>
<p>I still need to decide if a receiver should be able to &#8220;receive&#8221; &#8216;launch&#8217; or &#8216;cancel&#8217; messages (orders). Oh, and the engine is a receiver.</p>
<p><strong>releasing</strong></p>
<p>I released <a href="http://gemcutter.org/gems/ruote">ruote 2.1.1</a> at the gemcutter.</p>
<p>For some people, a gem is a necessity, while for others a tag in the source is a sufficient release.</p>
<p>I hope that by releasing a gem from time to time and tagging the repo appropriately I might satisfy a wide range of people.</p>
<p>I&#8217;m planning to release gems quite often, especially in the beginning.</p>
<p>The unfortunate thing with a workflow engine, is that many business process instances outlive the version they started at and it&#8217;s not that easy to stay backward compatible all along&#8230; That explains some of my reticence about releasing.</p>
<p><strong>ruote-kit</strong></p>
<p><a href="http://github.com/kennethkalmer/ruote-kit">ruote-kit</a> is an engine + worklist instance of ruote accessible over HTTP (speaking JSON and HTML), it has a RESTful ideal.</p>
<p>It&#8217;s being developed by <a href="http://github.com/kennethkalmer">Kenneth</a>, with the help of <a href="http://github.com/tosch/">Torsten</a>. My next step is to help them upgrade ruote-kit from ruote 2.0 to 2.1. It should not be that difficult. Apart from the engine initialization steps, the rest of ruote being quite similar from 2.0 to 2.1.</p>
<p><strong>conclusion</strong></p>
<p>Two major versions of ruote for 2009, that&#8217;s a lot. I hope this post will help understand why I went for a second rewrite and how ruote matured and became, hopefully, less ugly.</p>
<p>Happy new year 2010 !</p>
<p>&nbsp;</p>
<p>source : <a href="http://github.com/jmettraux/ruote">http://github.com/jmettraux/ruote</a><br />
mailing-list : <a href="http://groups.google.com/group/openwferu-users">http://groups.google.com/group/openwferu-users</a><br />
irc : freenode.net #ruote</p>
<p>&nbsp;</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled"><div class="wpl-likebox sd-block sd-like"><h3 class="sd-title">Like this:</h3><div class="sd-content"><div id="like-1441" class="wpl-button "><a href='http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/?like=1&amp;_wpnonce=620535fb9a' title='I like this.' class='like needs-login sd-button' rel='nofollow'><span>Like</span></a></div><div class="wpl-count sd-like-count">Be the first to like this.</div></div></div></div>	</div>

<div class="meta group">
<div class="signature">
    <p>Written by John Mettraux <span class="edit"></span></p>
    <p>December 31, 2009 at 9:57 am</p>
</div>
<div class="tags">
    <p>Posted in <a href="http://jmettraux.wordpress.com/category/openwferu/" title="View all posts in openwferu" rel="category tag">openwferu</a>, <a href="http://jmettraux.wordpress.com/category/ruby/" title="View all posts in ruby" rel="category tag">ruby</a>, <a href="http://jmettraux.wordpress.com/category/ruote/" title="View all posts in ruote" rel="category tag">ruote</a>, <a href="http://jmettraux.wordpress.com/category/technical/" title="View all posts in technical" rel="category tag">technical</a>, <a href="http://jmettraux.wordpress.com/category/workflow/" title="View all posts in workflow" rel="category tag">workflow</a></p>
    </div>
</div>

<div class="navigation group">
	<div class="alignleft">&laquo; <a href="http://jmettraux.wordpress.com/2009/12/25/rufus-tokyo-1-0-4/" rel="prev">rufus-tokyo&nbsp;1.0.4</a></div>
	<div class="alignright"><a href="http://jmettraux.wordpress.com/2010/01/29/barley/" rel="next">it&#8217;s barley a task&nbsp;manager</a> &raquo;</div>
</div>


<a name="comments" id="comments"></a>

<h3 class="reply">5 Responses</h3>
<p class="comment_meta">Subscribe to comments with <a href="http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/feed/">RSS</a>.</p>

<ol class="commentlist">
<li id="comment-28079" class="comment even thread-even depth-1  highlander-comment highlander-comment">
	<div id="div-comment-28079">
	<div class="comment_mod">
		</div>

	<div class="comment_text">
	<p>Thanks John &#8211; back from holidays and just read through this. Good overview (helped me get a better grip about the history of the project and what you plan for it).</p>
<p>Cheers,<br />
Nicholas</p>
	</div>

	<div class="comment_author vcard">
	<img alt='' src='http://0.gravatar.com/avatar/92630e9fe26737fe00b4da50f6e17aaa?s=32&amp;d=&amp;r=G' class='avatar avatar-32' height='32' width='32' />	<p><strong class="fn"><a href='http://treefallinginthewoods.com' rel='external nofollow' class='url'>Nicholas Faiz</a></strong></p>
	<p><small>
		January 11, 2010 at <a href="#comment-28079">12:13 am</a>			</small></p>
	</div>
	<div class="clear"></div>

	<div class="reply">
		<a class='comment-reply-link' href='/2009/12/31/ruote-2-1-released/?replytocom=28079#respond' onclick='return addComment.moveForm("div-comment-28079", "28079", "respond", "1441")'>Reply</a>	</div>
	</div>
</li>
<li id="comment-28086" class="comment odd alt thread-odd thread-alt depth-1  highlander-comment highlander-comment">
	<div id="div-comment-28086">
	<div class="comment_mod">
		</div>

	<div class="comment_text">
	<p>Hello,</p>
<p>Nice work ! I would love to have an example of the &#8216;receivers&#8217; concept you&#8217;re talking about. e.g. how to resume execution of the workflow from a web application</p>
	</div>

	<div class="comment_author vcard">
	<img alt='' src='http://2.gravatar.com/avatar/295820630aa95e0b37eef87f61e33d7f?s=32&amp;d=&amp;r=G' class='avatar avatar-32' height='32' width='32' />	<p><strong class="fn">Karl Robertson</strong></p>
	<p><small>
		January 20, 2010 at <a href="#comment-28086">11:58 am</a>			</small></p>
	</div>
	<div class="clear"></div>

	<div class="reply">
		<a class='comment-reply-link' href='/2009/12/31/ruote-2-1-released/?replytocom=28086#respond' onclick='return addComment.moveForm("div-comment-28086", "28086", "respond", "1441")'>Reply</a>	</div>
	</div>
<ul class='children'>
<li id="comment-28087" class="comment byuser comment-author-jmettraux bypostauthor even depth-2  byuser comment-author-jmettraux bypostauthor highlander-comment highlander-comment">
	<div id="div-comment-28087">
	<div class="comment_mod">
		</div>

	<div class="comment_text">
	<p>Hi Karl,</p>
<p>I should cook up a small web application example.</p>
<p>How you resume the execution of a workflow depends on how you pass workitems between ruote and the web application.</p>
<p>At the core, it only means calling the reply method of the engine with the updated workitem (the workitem contains enough info to tell the engine which process instance to resume).</p>
<p>Cheers,</p>
	</div>

	<div class="comment_author vcard">
	<img alt='' src='http://2.gravatar.com/avatar/8d96626e52beb1ff90f57a8e189e1e6f?s=32&amp;d=&amp;r=G' class='avatar avatar-32' height='32' width='32' />	<p><strong class="fn"><a href='http://jmettraux.wordpress.com/' rel='external nofollow' class='url'>John Mettraux</a></strong></p>
	<p><small>
		January 21, 2010 at <a href="#comment-28087">1:09 am</a>			</small></p>
	</div>
	<div class="clear"></div>

	<div class="reply">
		<a class='comment-reply-link' href='/2009/12/31/ruote-2-1-released/?replytocom=28087#respond' onclick='return addComment.moveForm("div-comment-28087", "28087", "respond", "1441")'>Reply</a>	</div>
	</div>
<ul class='children'>
<li id="comment-28089" class="comment odd alt depth-3  highlander-comment highlander-comment">
	<div id="div-comment-28089">
	<div class="comment_mod">
		</div>

	<div class="comment_text">
	<p>Hello John,<br />
Thank you for your answer. Actually I tried to play with it a little and I got it working using a custom participant that did not reply_to_engine then I used a receiver to receive the workitem in another thread.</p>
<p>I&#8217;m trying to implement a task system where the workflow hangs until a user completes a given task. I would show the task through a web app. I don&#8217;t know if you&#8217;re familiar with Jboss JBPM but the idea is to have it behave a little like the tasks in JBPM.</p>
	</div>

	<div class="comment_author vcard">
	<img alt='' src='http://2.gravatar.com/avatar/295820630aa95e0b37eef87f61e33d7f?s=32&amp;d=&amp;r=G' class='avatar avatar-32' height='32' width='32' />	<p><strong class="fn">Karl Robertson</strong></p>
	<p><small>
		January 21, 2010 at <a href="#comment-28089">4:03 pm</a>			</small></p>
	</div>
	<div class="clear"></div>

	<div class="reply">
			</div>
	</div>
</li>
<li id="comment-28091" class="comment byuser comment-author-jmettraux bypostauthor even depth-3  byuser comment-author-jmettraux bypostauthor highlander-comment highlander-comment">
	<div id="div-comment-28091">
	<div class="comment_mod">
		</div>

	<div class="comment_text">
	<p>Hello Karl,</p>
<p>maybe we should move this discussion to ruote&#8217;s mailing list :</p>
<p><a href="http://groups.google.com/group/openwferu-users" rel="nofollow">http://groups.google.com/group/openwferu-users</a></p>
<p>It&#8217;s way better than wordpress commenting system.</p>
<p>Your custom participant + receiver solution sounds great. It says that you understand ruote.</p>
<p>I&#8217;m a bit familiar with jBPM though I&#8217;m not a fan of their approach. 1 to 1 matching between tasks and participants is an excellent approach.</p>
<p>Cheers,</p>
	</div>

	<div class="comment_author vcard">
	<img alt='' src='http://2.gravatar.com/avatar/8d96626e52beb1ff90f57a8e189e1e6f?s=32&amp;d=&amp;r=G' class='avatar avatar-32' height='32' width='32' />	<p><strong class="fn"><a href='http://jmettraux.wordpress.com/' rel='external nofollow' class='url'>John Mettraux</a></strong></p>
	<p><small>
		January 22, 2010 at <a href="#comment-28091">2:51 am</a>			</small></p>
	</div>
	<div class="clear"></div>

	<div class="reply">
			</div>
	</div>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="navigation">
	<div class="alignleft"></div>
	<div class="alignright"></div>
</div>
<br />

	


								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2009/12/31/ruote-2-1-released/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://jmettraux.wordpress.com/wp-comments-post.php" method="post" id="commentform">
																										


												
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment"></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&forcedefault=y&d=gravatar_default" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="text" value="" /></div>
				</div> 
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1289230950g" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=gravatar_default" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&d=gravatar_default" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>
	
	
</div>

<script type="text/javascript">
jQuery(document).ready(function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
});
</script>

<div id="comment-form-subscribe"> 
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" tabindex="6"/> <label class="subscribe-label" id="subscribe-label" for="subscribe">Notify me of follow-up comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;" tabindex="7"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts via email.</label></p></div>

												<p class="form-submit">
							<input name="submit" type="submit" id="comment-submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='1441' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						
<input type="hidden" name="genseq" value="1343353173" />
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="b762872dd6" /></p><script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/akismet-2.5/form.js?m=1308783962g'></script>
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="26"/></p>					</form>
							</div><!-- #respond -->
			<div style="clear: both"></div>			


</div>

<div id="sidebar">
<h3>Pages</h3>		<ul>
			<li class="page_item page-item-2"><a href="http://jmettraux.wordpress.com/about/">About</a></li>
		</ul>
		<h3>projects</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://github.com/jmettraux" title="projects at http://github.com/jmettraux">on GitHub</a></li>
<li><a href="http://rufus.rubyforge.org" title="A set of Ruby gems">Rufus</a></li>
<li><a href="http://ruote.rubyforge.org" title="ruote &#8211; open source ruby workflow engine">Ruote</a></li>
<li><a href="http://groups.google.com/group/openwferu-users">ruote mailing list</a></li>

	</ul>

				<h3>Recent Posts</h3>		<ul>
				<li><a href="http://jmettraux.wordpress.com/2012/05/07/moving-to-jmettraux-github-com/" title="moving to&nbsp;jmettraux.github.com">moving to&nbsp;jmettraux.github.com</a></li>
				<li><a href="http://jmettraux.wordpress.com/2011/10/28/rufus-scheduler-2-0-12-released/" title="rufus-scheduler 2.0.12&nbsp;released">rufus-scheduler 2.0.12&nbsp;released</a></li>
				<li><a href="http://jmettraux.wordpress.com/2011/05/11/parslet-and-json/" title="Parslet and&nbsp;JSON">Parslet and&nbsp;JSON</a></li>
				<li><a href="http://jmettraux.wordpress.com/2011/03/02/ruote-2-2-0-released/" title="ruote 2.2.0&nbsp;released">ruote 2.2.0&nbsp;released</a></li>
				<li><a href="http://jmettraux.wordpress.com/2011/01/07/ruote-and-tags/" title="ruote, process state and&nbsp;tags">ruote, process state and&nbsp;tags</a></li>
				</ul>
		<form role="search" method="get" id="searchform" action="http://jmettraux.wordpress.com/" >
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="Search" />
	</div>
	</form>
					<h3>Recent Comments</h3>			<ul id="recentcomments"><li class="recentcomments"><a href='http://jmettraux.wordpress.com/' rel='external nofollow' class='url'>John Mettraux</a> on <a href="http://jmettraux.wordpress.com/2011/10/28/rufus-scheduler-2-0-12-released/#comment-29220">rufus-scheduler 2.0.12&nbsp;released</a></li><li class="recentcomments">Edward on <a href="http://jmettraux.wordpress.com/2011/10/28/rufus-scheduler-2-0-12-released/#comment-29218">rufus-scheduler 2.0.12&nbsp;released</a></li><li class="recentcomments"><a href='http://www.lamolabs.org/blog/7093/delicious-bookmarks-for-september-20th-through-september-22nd/' rel='external nofollow' class='url'>Delicious Bookmarks for September 20th through September 22nd &laquo; Lâmôlabs</a> on <a href="http://jmettraux.wordpress.com/2010/08/16/houston-rb-ruote-wes-gamble/#comment-29193">Houston.rb ruote presentation by Wes&nbsp;Gamble</a></li><li class="recentcomments">iniffitle on <a href="http://jmettraux.wordpress.com/2007/11/05/posting-to-wordpress-via-ruby-and-atompub/#comment-29192">posting to wordpress via ruby and&nbsp;atompub</a></li><li class="recentcomments"><a href='http://jmettraux.wordpress.com/' rel='external nofollow' class='url'>John Mettraux</a> on <a href="http://jmettraux.wordpress.com/2007/11/05/posting-to-wordpress-via-ruby-and-atompub/#comment-29191">posting to wordpress via ruby and&nbsp;atompub</a></li></ul>
		<h3><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/feed/rss_v2_0_topics.xml' title='Syndicate this content'><img style='background:orange;color:white;border:none;' width='14' height='14' src='http://s.wordpress.com/wp-includes/images/rss.png?m=1144196147g' alt='RSS' /></a> <a class='rsswidget' href='http://groups.google.com/group/openwferu-users' title='ruote is a Ruby open source workflow engine.'>ruote ml</a></h3><ul><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/fa183133cea48827' title='   Hello,  I&#039;m thinking of dropping the development of ruote-dm. Ruote-sequel is a  better storage implementation for ruote and RDBMSes.  Any objections to that? Does someone among you need ruote-dm to carry on?  Best regards,  --  John Mettraux - [link]   '>dropping ruote-dm</a></li><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/74f80aec61907248' title='   After process instance is cancelled, using engine.cancel_process(wfid), i  want to cancel/kill the engine.  what i found is that ruote engine keeps running after i do  engine.cancel_process(wfid).  How do i proceed??  Thanks,  Rashi   '>Ruote 2.2.0 cancel process</a></li><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/3702b427bbfcfb51' title='   I am using Ruote 2.2.0  class ParticipantTest  include Ruote::LocalParticipant   def initialize (options)  @options = options  end   def consume (workitem)   # some long running process   @handle = long_running_process(r)   reply_to_engine(workitem)  end   def cancel(fei, flavour)   '>Ruote 2.2.0 share instance variable between consume and cancel</a></li><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/6457eac4021182cc' title='   Hi,  We are building a service on ruote, and have encountered some performance  problems. We originally used Route::Sequel::Storage with the mysql2  adapter. On deployment we noticed that ruote made massive number of sql  requests, producing numerous time outs.  For comparison, we switched to Route::FsStorage. (We do not want to use   '>Storage Mechanism Size and Recommendations</a></li><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/57289ce74936ff42' title='   Hello,  In the default history I see &quot;By default, the history is an in-memory  history (see Ruote::DefaultHistory) (and it is worthless when there are  multiple workers).&quot; Now I am using the redis storage in order to run  multiple workers. I am not interested in the large amount of history made.   '>Ruote Default History</a></li><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/28bdafa6ec11653d' title='   Hi,  We are using Ruote inside a web service that needs to answer to its users  if its job (implemented as a workflow) has finished correctly or not.  Using engine.process(wfid) we get information about this wfid so we tell  the users when the process is running or had some error.  The problem is that we can not distinguish between a wfid that we have   '>how to know when a workflow has finished?</a></li><li><a class='rsswidget' href='http://groups.google.com/group/openwferu-users/browse_thread/thread/b46c4858272bcc95' title='   John,  We have implemented a custom workflow history. Per your help previously,  we only collect &#039;dispatched&#039; workflow steps. For our logging purposes, we  need to grab a field off of the workitem.fields, but for the dispatched  step, only fei and participant name are included in the message hash being   '>Custom History - Include workitem on &#039;dispatched&#039;</a></li></ul>					<h3><a href='http://del.icio.us/jmettraux'>del.icio.us</a></h3><div id="delicious-box" style="margin:0;padding:0;border:none;"> </div>
			<script type="text/javascript">
				function render_delicious( data ) {
					var ul = document.createElement( 'ul' );
					for ( var i = 0, post; post = data[i]; i++ ) {
						var li = document.createElement( 'li' );
						var a  = document.createElement( 'a' );
						a.setAttribute( 'href', post.u );
						a.appendChild( document.createTextNode( post.d ) );
						li.appendChild( a );
						ul.appendChild( li );
					}
					ul.setAttribute( 'id', 'delicious-list' );
					document.getElementById( 'delicious-box' ).appendChild( ul );
				}
			</script>
			<script type="text/javascript" src="http://feeds.delicious.com/v2/json/jmettraux?count=7&#038;callback=render_delicious"></script>
		<h3><a class='rsswidget' href='http://www.google.com/reader/public/atom/user/07071871594532831501/state/com.google/broadcast' title='Syndicate this content'><img style='background:orange;color:white;border:none;' width='14' height='14' src='http://s.wordpress.com/wp-includes/images/rss.png?m=1144196147g' alt='RSS' /></a> <a class='rsswidget' href='' title=''>interesting posts found</a></h3><ul><li><a class='rsswidget' href='http://japanlifeandreligion.com/2011/11/14/akb48-a-japanese-phenomenon-2/' title='When it comes to anime, Japan and music, one of the first things that come to mind for many people is a girl pop group named AKB48. This article provides a very good overview of AKB48, but in summary AKB48 is an unusual girl’s pop group for a few reasons: The group is based out of a specific theater in Tokyo, right in the heart of Akihabara, which for many J [&hellip;]'>AKB48: a Japanese phenomenon</a></li><li><a class='rsswidget' href='http://feedproxy.google.com/~r/StuffNoOneToldMeButILearnedAnyway/~3/cEI2EkiEZtI/my-sporadic-obsessions.html' title='    '>My sporadic obsessions</a></li><li><a class='rsswidget' href='http://feedproxy.google.com/~r/BertrandMeyer/~3/53raYq2rhhY/' title='John McCarthy, who died last week at the age of 84, was one of the true giants of computer science. Most remarkable about his contributions are their diversity, their depth, and how they span both theory and practice. To talk about him it is necessary first to dispel an unjustly negative connotation. McCarthy was one of the founders of the discipline of arti [&hellip;]'>John McCarthy</a></li><li><a class='rsswidget' href='http://gilesbowkett.blogspot.com/2011/11/ticket-available-for-keeping-it.html' title='Way too sick to travel. Email me if you want it.Looks like a great conf.'>Ticket Available For Keeping It Realtime</a></li><li><a class='rsswidget' href='http://feedproxy.google.com/~r/Asana/~3/YYROd3HDAPA/' title='We’re thrilled to announce that, starting today, Asana is openly available to everyone. Visit asana.com to create your account, and try it out for yourself, or with your team. Asana is a modern web application that keeps teams in sync, a shared task list where everyone can capture, organize, track, and communicate what they are working on in service of their [&hellip;]'>Introducing Asana: The Modern Way to Work Together</a></li><li><a class='rsswidget' href='http://prog21.dadgum.com/116.html' title='Turbo Pascal 3 for MS-DOS was released in September 1986. Being version 3, there were lesser releases prior to it and flashier ones after, but 3 was a solid representation of the Turbo Pascal experience: a full Pascal compiler, including extensions that it made it practical for commercial use, tightly integrated with an editor. And the whole thing was lightn [&hellip;]'>Things That Turbo Pascal is Smaller Than</a></li><li><a class='rsswidget' href='http://d.hatena.ne.jp/n_shuyo/20111018/doublearray' title='今作りかけのもので、素性(文字列片)を格納するのに Trie を使っていたのだけど、50万件を超えたあたりからメモリに載らなくなってきて。 まあ dict を使っためちゃめちゃナイーブな実装だったので、そろそろダメかなあとは思っていたんだけど(苦笑)。 というわけで、それよりきっと省スペース＆きっと高速だろうと期待して Double Array を Python で実装してみた。 参考にしたのは WEB+DB Press vol. 64 の徳永さんの記事。 現時点での実装がこちら。 https://github.com/shuyo/iir/blob/master/trie/da.py ソート済みのテキスト列を与えると、Double Array を構築。 get を呼び出すと、最初に与えたテキスト列の中でのキー文 [&hellip;]'>[Python][機械学習][Trie] Double Array 実装してみた</a></li></ul><h3>Meta</h3>			<ul>
			<li><a href="http://jmettraux.wordpress.com/wp-login.php?action=register">Register</a></li>			<li><a href="http://jmettraux.wordpress.com/wp-login.php">Log in</a></li>
			<li><a href="http://jmettraux.wordpress.com/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://jmettraux.wordpress.com/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.com/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.com</a></li>
						</ul>
<h3>Top Posts</h3><ul><li><a href="http://jmettraux.wordpress.com/2009/07/03/state-machine-workflow-engine/" class="bump-view" data-bump-view="tp">state machine != workflow engine</a></li>
<li><a href="http://jmettraux.wordpress.com/2010/02/26/retiring-rufus-tokyo/" class="bump-view" data-bump-view="tp">retiring rufus-tokyo</a></li>
<li><a href="http://jmettraux.wordpress.com/2010/06/21/ruote-demos-and-examples/" class="bump-view" data-bump-view="tp">ruote demos and examples</a></li>
<li><a href="http://jmettraux.wordpress.com/2011/05/11/parslet-and-json/" class="bump-view" data-bump-view="tp">Parslet and JSON</a></li>
<li><a href="http://jmettraux.wordpress.com/2010/10/27/resource-lifecycle-tuple/" class="bump-view" data-bump-view="tp">resource lifecycle tuple</a></li>
<li><a href="http://jmettraux.wordpress.com/2007/06/25/operating-system-for-business-processes/" class="bump-view" data-bump-view="tp">operating system for business processes</a></li>
<li><a href="http://jmettraux.wordpress.com/2009/04/25/rufus-decision-11-ruby-decision-tables/" class="bump-view" data-bump-view="tp">rufus-decision 1.1, ruby decision tables</a></li>
<li><a href="http://jmettraux.wordpress.com/2008/04/01/bike-geolocation-with-ruby-and-rmagick/" class="bump-view" data-bump-view="tp">bike geolocation with Ruby and RMagick</a></li>
<li><a href="http://jmettraux.wordpress.com/2007/11/05/posting-to-wordpress-via-ruby-and-atompub/" class="bump-view" data-bump-view="tp">posting to wordpress via ruby and atompub</a></li>
<li><a href="http://jmettraux.wordpress.com/2008/05/07/restful-workflow-engine-on-sinatra/" class="bump-view" data-bump-view="tp">restful workflow engine (on Sinatra)</a></li>
</ul><h3><a href='http://twitter.com/jmettraux'>twitter</a></h3><ul class='tweets'>
<li>mer <a href="http://merproject.org/"> merproject.org</a> based upon the MeeGo work <a href="http://twitter.com/jmettraux/statuses/225545609816453120" class="timesince">1&nbsp;week&nbsp;ago</a></li>
<li>new ruby state machine lib on the block <a href="https://github.com/ghempton/state_manager"> github.com/ghempton/state…</a> <a href="http://twitter.com/jmettraux/statuses/225402972761374722" class="timesince">1&nbsp;week&nbsp;ago</a></li>
<li>corner cases, corny cases and cornered cases <a href="http://twitter.com/jmettraux/statuses/213798064660545540" class="timesince">1&nbsp;month&nbsp;ago</a></li>
<li>a port of rufus-mnemo to PHP <a href="https://github.com/aleksblendwerk/mnemo"> github.com/aleksblendwerk…</a> <a href="http://twitter.com/jmettraux/statuses/213713031249670146" class="timesince">1&nbsp;month&nbsp;ago</a></li>
<li>the latest reeder on the iphone feels great <a href="http://twitter.com/jmettraux/statuses/213534832817471488" class="timesince">1&nbsp;month&nbsp;ago</a></li>
<li>released rufus-scheduler 2.0.17, many thanks to @<a href='http://twitter.com/andrehjr'>andrehjr</a> for making it Ruby 1.9.3 friendly <a href="http://twitter.com/jmettraux/statuses/212968394654355456" class="timesince">1&nbsp;month&nbsp;ago</a></li>
<li>great &quot;inline posting&quot; example from the oatmeal <a href="http://theoatmeal.com/blog/funnyjunk_letter"> theoatmeal.com/blog/funnyjunk…</a> <a href="http://twitter.com/jmettraux/statuses/212305774305738752" class="timesince">1&nbsp;month&nbsp;ago</a></li>
</ul>


</div>

</div>

<div id="footer">
	<p><a href="http://wordpress.com/?ref=footer" rel="generator">Blog at WordPress.com</a>. Theme: <a href="http://theme.wordpress.com/credits/jmettraux.wordpress.com/" title="Learn more about how this site is customized with the Custom Design upgrade">Customized The Journalist v1.9</a> by <a href="http://lucianmarin.com/" rel="designer">Lucian E. Marin</a>.</p>
</div>

<script type="text/javascript">
var _qevents = _qevents || [], wpcomQuantcastData = {"qacct":"p-18-mFEk4J448M","labels":",language.en,type.wpcom"};
function wpcomQuantcastPixel( labels, options ) {
	var i, defaults = wpcomQuantcastData, data = { event: 'ajax' };

	labels  = labels  || '';
	options = options || {};

	if ( typeof labels != 'string' )
		options = labels;

	for ( i in defaults ) {
		data[i] = defaults[i];
	}

	for ( i in options ) {
		data[i] = options[i];
	}

	if ( data.labels ) {
		data.labels += ',' + labels;
	} else {
		data.labels = labels;
	}

	_qevents.push( data );
};
(function() {var elem = document.createElement('script');elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";elem.async = true;elem.type = "text/javascript";var scpt = document.getElementsByTagName('script')[0];scpt.parentNode.insertBefore(elem, scpt);  })();
_qevents.push( wpcomQuantcastData );
</script>
<noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif?labels=%2Clanguage.en%2Ctype.wpcom" height="1" width="1" alt="" /></div></noscript>


	<script type="text/javascript">
	/* <![CDATA[ */
	(function($){
		$(document).on( 'ready post-load', function() {

			// Remove the login box when clicking the page
			$( document ).mousedown( function( e ) {
				if ( null == $( e.target ).closest( '#wpl-mustlogin' ).get( 0 ) ) {
					$( '#wpl-mustlogin' ).remove();
				}
			});

			// Handle clicking the like button itself
			$('.wpl-button > a.like').click( function(e) {
				e.preventDefault();

				var postid = $(this).parent().attr('id').split('like-')[1];
				$.post( 'http://jmettraux.wordpress.com/wp-admin/admin-ajax.php', {
					'action': 'wpl_record_stat',
					'stat_name': 'loggedout_like_click'
				} );

				var tenMins = new Date();
				tenMins.setTime( tenMins.getTime() + 600000 );
				document.cookie = 'wpl_rand=326d6f17ce; expires=' + tenMins.toGMTString() + '; domain=wordpress.com; path=/;';

				$(this).parent().siblings('.wpl-count').after( '\
					<div id="wpl-mustlogin"> \
						<form action="https://jmettraux.wordpress.com/wp-login.php" method="post"> \
							<p>Just one more step to like this:</p> \
							<label><span>Username</span> <input type="text" name="log" id="user_login" class="input" value="" size="20" tabindex="80" /></label> \
							<label><span>Password</span> <input type="password" name="pwd" id="user_pass" class="input" value="" size="20" tabindex="81" /></label> \
							<input type="submit" name="wp-submit" id="wp-submit" class="button-primary" value="Log In" tabindex="82" /> \
							<input type="hidden" name="postid" value="' + postid + '" /> \
							<input type="hidden" name="redirect_to" value="http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released?year=2009&#038;monthnum=12&#038;day=31&#038;name=ruote-2-1-released&#038;like=1" /> \
							<input type="hidden" name="wpl_rand" value="326d6f17ce" /> \
							<p>Not a member yet? <a href="http://wordpress.com/signup/?ref=likebox" id="wpl-signup-link">Sign up with WordPress.com</a></p> \
						</form> \
					</div> \
				');

				$('#wpl-mustlogin').hide().slideDown('fast');
			} );

			$('#wpl-mustlogin input.input').live( 'focus', function() {
				$(this).prev().hide();
			}).live( 'blur', function() {
				if ( $(this).val() == '' ) {
					$(this).prev().show();
				}
			});

			$('#wpl-mustlogin input#wp-submit').live( 'click', function(e) {
				e.preventDefault();

				$.post( 'http://jmettraux.wordpress.com/wp-admin/admin-ajax.php', {
					'action': 'wpl_record_stat',
					'stat_name': 'loggedout_login_submit'
				}, function() {
					$('#wpl-mustlogin form').submit();
				} );
			});

			$('#wpl-mustlogin a#wpl-signup-link').live( 'click', function(e) {
				e.preventDefault();

				var link = $(this).attr('href');

				$.post( 'http://jmettraux.wordpress.com/wp-admin/admin-ajax.php', {
					'action': 'wpl_record_stat',
					'stat_name': 'loggedout_signup_click'
				}, function() {
					location.href = link;
				} );
			});
		})
	})(jQuery);
	/* ]]> */
	</script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=3.5-alpha-21304'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1318621548g'></script>
<script>jQuery(document).ready(function($){ Gravatar.profile_cb = function( h, d ) { WPGroHo.syncProfileData( h, d );	}; Gravatar.my_hash = WPGroHo.my_hash; Gravatar.init( 'body', '#wp-admin-bar-my-account' ); });</script>	<div style="display:none">
	<div class="grofile-hash-map-92630e9fe26737fe00b4da50f6e17aaa">
	</div>
	<div class="grofile-hash-map-295820630aa95e0b37eef87f61e33d7f">
	</div>
	<div class="grofile-hash-map-8d96626e52beb1ff90f57a8e189e1e6f">
	</div>
	</div>
		<style type="text/css">
			
				.reblog-from img                   { margin: 0 10px 0 0; vertical-align: middle; padding: 0; border: 0; }
				.reblogger-note img.avatar         { float: left; padding: 0; border: 0; }
				.reblogger-note-content            { margin: 0 0 20px; }
				.reblog-post .wpcom-enhanced-excerpt-content { border-left: 3px solid #eee; padding-left: 15px; }
				.reblog-post ul.thumb-list         { display: block; list-style: none; margin: 2px 0; padding: 0; clear: both; }
				.reblog-post ul.thumb-list li      { display: inline; margin: 0; padding: 0 1px; border: 0; }
				.reblog-post ul.thumb-list li a    { margin: 0; padding: 0; border: 0; }
				.reblog-post ul.thumb-list li img  { margin: 0; padding: 0; border: 0; }

				.reblog-post .wpcom-enhanced-excerpt { clear: both; }

				.reblog-post .wpcom-enhanced-excerpt address,
				.reblog-post .wpcom-enhanced-excerpt li,
				.reblog-post .wpcom-enhanced-excerpt h1,
				.reblog-post .wpcom-enhanced-excerpt h2,
				.reblog-post .wpcom-enhanced-excerpt h3,
				.reblog-post .wpcom-enhanced-excerpt h4,
				.reblog-post .wpcom-enhanced-excerpt h5,
				.reblog-post .wpcom-enhanced-excerpt h6,
				.reblog-post .wpcom-enhanced-excerpt p { font-size: 100% !important; }

				.reblog-post .wpcom-enhanced-excerpt blockquote,
				.reblog-post .wpcom-enhanced-excerpt pre,
				.reblog-post .wpcom-enhanced-excerpt code,
				.reblog-post .wpcom-enhanced-excerpt q { font-size: 98% !important; }
					</style><script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"http:\/\/jmettraux.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"http:\/\/jmettraux.wordpress.com\/wp-login.php?action=logout&_wpnonce=51433f9a90","homeURL":"http:\/\/jmettraux.wordpress.com\/","postID":"1441","gravDefault":"gravatar_default","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/mu-plugins/highlander-comments/script.js?m=1342824083g'></script>
	
	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">
			
					<h3><label for="loggedout-follow-field">Follow &ldquo;processi&rdquo;</label></h3>
		
			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>
			
			<p id="loggedout-follow-error" style="display: none;"></p>

					
			
			<p><input type="email" name="email" style="width: 95%; padding: 1px 2px" value="Enter your email address" onfocus='this.value=(this.value=="Enter your email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="120793"/>
			<input type="hidden" name="source" value="http://jmettraux.wordpress.com/2009/12/31/ruote-2-1-released/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="4ae4555f1f" /><input type="hidden" name="_wp_http_referer" value="/2009/12/31/ruote-2-1-released/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->
<script type='text/javascript' src='http://platform.twitter.com/widgets.js?ver=20111117'></script>
<script type="text/javascript" src="http://b.scorecardresearch.com/beacon.js"></script><script type="text/javascript">try{COMSCORE.beacon({c1:2,c2:7518284});}catch(e){}</script><noscript><p class="robots-nocontent"><img src="http://b.scorecardresearch.com/p?cj=1c1=2&#038;c2=7518284" alt="" style="display:none" width="1" height="1" /></p></noscript><script type='text/javascript' src='http://s2.wp.com/_static/??/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shCore.js,/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shBrushJScript.js,/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/shBrushRuby.js?m=1338000963j'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var themecssurl = "http://s0.wp.com/wp-content/plugins/syntaxhighlighter-wpcom/shThemeDefault.css?m=1267535107g&amp;ver=2.1.364b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.getElementsByTagName("head")[0].appendChild(themecss);
	})();
	SyntaxHighlighter.config.clipboardSwf = 'http://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter/scripts/clipboard.swf?m=1300122498g';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.all();
</script>
<link rel='stylesheet' id='all-css-0' href='http://s1.wp.com/i/noticons/noticons.css?m=1343313177g' type='text/css' media='all' />
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx.js?m=1343337233g'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="http://s.stats.wordpress.com/w.js?21" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'120793','v':'wpcom','user_id':'0','post':'1441','subd':'jmettraux'});
ex_go({'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNJVlR6VU0wYlclV3g3bVpZQVBrb2N6YmV0YmZwUGFEN1t4b249fFlHcGF4NVMlPWtWNFtNajlTSDdsUnlJUE8mdi4wR0JVRyVBM0xiX2JjSkgwTV96JVt+cCttPXNWVk09dVNbMy15aXNBeVk0aG80P3x2SCZmYjZFR3ordC4malJKfmR8OHxqUF1sLk8vN1AmWXZMd2RpR1M2X1JqN3AzWlIwNGNDXUosP281ZGQ5W1dhWjUvc2xqRi5MdHZVYj1CaGdiNURydEJ8Zz8xY0x2X1tFQzktRnxBdlNjNklTLW9XcE1hWj9FY3QxOStqV2EsYm1uRFYwcGN6LiZXdkw4OXNRVmo9dVBr'});
addLoadEvent(function(){linktracker_init('120793',1441);});
	</script>
<noscript><img src="http://stats.wordpress.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>

</body>
</html>